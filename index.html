<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-06-22 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180622" />
    <meta http-equiv="Content-Language" content="en" />
    <title>microBean Maven CDI &#x2013; microBean Maven CDI</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>microBean Maven CDI</h2>
</div>
</div>
        <div class="pull-right"><a href="./" id="bannerRight"><img src="https://avatars0.githubusercontent.com/u/25515632?s=60"  alt="Î¼b microbean-maven-cdi"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2018-06-22</li>
      <li id="projectVersion" class="pull-right">Version: 0.3.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Documentation</li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a>
  </li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a>  </li>
    <li><a href="https://github.com/microbean/microbean-maven-cdi/" class="externalLink" title="Github Repository"><span class="none"></span>Github Repository</a>  </li>
    <li><a href="examples.html" title="Examples"><span class="none"></span>Examples</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
      <ul class="nav nav-list">
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a>  </li>
    <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a>  </li>
    <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a>  </li>
    <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>About</a>
  </li>
    <li><a href="issue-tracking.html" title="Issue Management"><span class="none"></span>Issue Management</a>  </li>
    <li><a href="license.html" title="Licenses"><span class="none"></span>Licenses</a>  </li>
    <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a>  </li>
    <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a>  </li>
    <li><a href="team-list.html" title="Team"><span class="none"></span>Team</a>  </li>
    <li><a href="source-repository.html" title="Source Code Management"><span class="none"></span>Source Code Management</a>  </li>
    <li><a href="project-summary.html" title="Summary"><span class="none"></span>Summary</a>  </li>
      </ul>
  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>microBean Maven CDI</h1>
<p><a class="externalLink" href="https://travis-ci.org/microbean/microbean-maven-cdi"><img src="https://travis-ci.org/microbean/microbean-maven-cdi.svg?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-maven-cdi"><img src="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-maven-cdi/badge.svg" alt="Maven Central" /></a></p>
<p>The microBean Maven CDI project embeds the <a class="externalLink" href="http://maven.apache.org/resolver">Maven machinery responsible for interacting with artifact repositories</a> into your CDI 2.0 environment.</p>
<div class="section">
<h2><a name="Background_and_History"></a>Background and History</h2>
<p>The internal Maven machinery for interacting with artifact repositories has gone through several phases of existence.</p>
<p>Its earliest incarnation is in the form of the <a class="externalLink" href="http://search.maven.org/#artifactdetails%7Corg.apache.maven.shared%7Cmaven-artifact-resolver%7C1.0%7Cjar"><tt>maven-artifact-resolver</tt></a> artifact, version 1.0, <i>circa</i> 2009 (here in 2017 this artifact should not be used).</p>
<p>This code was subsequently <a class="externalLink" href="http://blog.sonatype.com/2010/08/introducing-aether/">broken out as a standalone project</a> into <a class="externalLink" href="https://www.sonatype.com/">Sonatype</a>&#x2019;s <a class="externalLink" href="https://github.com/sonatype/sonatype-aether">&#xc6;ther project</a> in <a class="externalLink" href="http://blog.sonatype.com/2010/08/introducing-aether/">August 2010</a>.</p>
<p>Sonatype &#xc6;ther then moved to the Eclipse foundation in <a class="externalLink" href="https://projects.eclipse.org/projects/technology.aether">August 2014</a>, but never really caught on as a standalone project outside of its original Maven-oriented user base, and was <a class="externalLink" href="https://projects.eclipse.org/projects/technology.aether">archived in January 2015</a>.</p>
<p>The Sonatype &#xc6;ther project was handed <i>back</i> to the Maven project and reincarnated as the <a class="externalLink" href="http://maven.apache.org/resolver">Maven Artifact Resolver project</a> in January 2017, with an overarching artifact identifier of <a class="externalLink" href="http://search.maven.org/#artifactdetails%7Corg.apache.maven.resolver%7Cmaven-resolver%7C1.0.3%7Cpom"><tt>maven-resolver</tt></a> (not <tt>maven-artifact-resolver</tt>). Somewhat oddly, the package names have not changed, so the classes provided by the <tt>maven-resolver</tt> project all start with the <tt>org.eclipse.aether.</tt> prefix.</p>
<p>This project adapts the <a class="externalLink" href="http://search.maven.org/#artifactdetails%7Corg.apache.maven.resolver%7Cmaven-resolver%7C1.0.3%7Cpom"><tt>maven-resolver</tt></a> project to CDI environments.</p></div>
<div class="section">
<h2><a name="Installation"></a>Installation</h2>
<p>Place this project&#x2019;s <tt>.jar</tt> file on your classpath.</p></div>
<div class="section">
<h2><a name="How_It_Works"></a>How It Works</h2>
<p>The <a class="externalLink" href="http://maven.apache.org/resolver"><tt>maven-resolver</tt> project</a> fortunately was written with dependency injection in mind. Specifically, it was written as a <a class="externalLink" href="https://github.com/google/guice/wiki/GettingStarted">Guice module</a> to be used from within Maven proper, which, at least in recent versions, uses <a class="externalLink" href="https://github.com/google/guice/">Guice</a> under the covers.</p>
<p>It also depends on certain parts of Maven that are expressed as <a class="externalLink" href="https://codehaus-plexus.github.io/plexus-components/">Plexus components</a>. (Plexus was one of the first dependency injection containers and still has its fingerprints in the Maven innards.)</p>
<p>The microBean Maven CDI project does just enough work to re-express certain Plexus components using CDI constructs so that you may simply inject the parts of <tt>maven-resolver</tt> that you need.</p>
<p>For example, to work with artifact repositories, you&#x2019;re going to need a <a class="externalLink" href="https://maven.apache.org/components/resolver/maven-resolver-api/apidocs/org/eclipse/aether/RepositorySystem.html"><tt>RepositorySystem</tt></a> and a <a class="externalLink" href="https://maven.apache.org/components/resolver/maven-resolver-api/apidocs/org/eclipse/aether/RepositorySystemSession.html"><tt>RepositorySystemSession</tt></a>. With microBean Maven CDI, you simply do this:</p>

<div class="source">
<div class="source"><pre class="prettyprint">@Inject
private RepositorySystem repositorySystem;

@Inject
private RepositorySystemSession repositorySystemSession;
</pre></div></div>
<p>&#x2026;and the <a href="apidocs/org/microbean/maven/cdi/MavenExtension.html"><tt>MavenExtension</tt> portable extension</a> takes care of setting up the dozens of supporting objects for you behind the scenes.</p>
<p>microBean Maven CDI also natively understands your user-level <a class="externalLink" href="https://maven.apache.org/settings.html"><tt>~/.m2/settings.xml</tt> file</a>, and can use it so that you can inject the right remote repositories, even taking its <a class="externalLink" href="https://maven.apache.org/settings.html#Simple_Values">local repository</a> and <a class="externalLink" href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">mirrors</a> settings into consideration:</p>

<div class="source">
<div class="source"><pre class="prettyprint">@Inject
@Resolution // for dependency resolution, as opposed to, say, deployment
private List&lt;RemoteRepository&gt; remoteRepositories;
</pre></div></div></div>
<div class="section">
<h2><a name="Usage"></a>Usage</h2>
<p>Here is some pseudocode showing how you might go about resolving the (arbitrarily chosen for this example) <a class="externalLink" href="http://search.maven.org/#artifactdetails%7Corg.slf4j%7Cslf4j-api%7C1.7.24%7Cjar"><tt>org.slf4j:slf4j-api:1.7.24</tt> artifact</a> from within your CDI bean:</p>

<div class="source">
<div class="source"><pre class="prettyprint">import org.eclipse.aether.RepositorySystemSession;
import org.eclipse.aether.RepositorySystem;

import org.eclipse.aether.artifact.Artifact;
import org.eclipse.aether.artifact.DefaultArtifact;

import org.eclipse.aether.collection.CollectRequest;

import org.eclipse.aether.repository.RemoteRepository;

import org.eclipse.aether.resolution.ArtifactResult;
import org.eclipse.aether.resolution.DependencyRequest;
import org.eclipse.aether.resolution.DependencyResolutionException;
import org.eclipse.aether.resolution.DependencyResult;

import org.eclipse.aether.util.artifact.JavaScopes;

import org.eclipse.aether.util.filter.DependencyFilterUtils;

@Inject
private RepositorySystem repositorySystem;

@Inject
private RepositorySystemSession session;

@Inject
@Resolution
private List&lt;RemoteRepository&gt; remoteRepositories;

public void resolve() throws DependencyResolutionException {
  final CollectRequest collectRequest = new CollectRequest();
  final Artifact artifact = new DefaultArtifact(&quot;org.slf4j&quot;, &quot;slf4j-api&quot;, &quot;jar&quot;, &quot;1.7.24&quot;);
  collectRequest.setRoot(new Dependency(artifact, JavaScopes.COMPILE));
  collectRequest.setRepositories(remoteRepositories);

  final DependencyRequest dependencyRequest = new DependencyRequest(collectRequest, DependencyFilterUtils.classpathFilter(JavaScopes.COMPILE));
  final DependencyResult dependencyResult = repositorySystem.resolveDependencies(session, dependencyRequest);
  final List&lt;ArtifactResult&gt; artifactResults = dependencyResult.getArtifactResults();
}
</pre></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2017&#x2013;2018
<a href="http://microbean.systems/">microBean</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
